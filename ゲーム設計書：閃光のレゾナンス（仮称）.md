# ゲーム設計書：閃光のレゾナンス（仮称）

## 1. 概要とコンセプト

本設計書は、ユーザーからの要望に基づき、「スピード感」「爽快感」「無限の組み合わせ」を核とした、Webブラウザで手軽に遊べるRPGの基本設計を定義するものである。ゲームの進行は「ポチポチ」と手軽に進められる形式を採用しつつ、戦闘システムには『ロマンシング サ・ガ』シリーズに代表される「技の閃き」と「連携」の要素を導入することで、深い戦略性と高い中毒性を実現する。

| 項目 | 詳細 |
| :--- | :--- |
| **ゲームジャンル** | 高速オートバトルRPG（ブラウザゲーム） |
| **ターゲット** | 手軽に遊べるゲームを求める層、ロマサガ系システム愛好者 |
| **コアコンセプト** | スピード感 × 爽快感 × 無限の組み合わせ |
| **操作性** | 基本ワンタップ（ポチポチ）進行、戦闘中のマニュアル介入要素あり |
| **開発コードネーム** | 閃光のレゾナンス |

## 2. ゲームシステムの詳細設計

### 2.1. 戦闘システム：高速オートバトルとリアルタイム閃き

戦闘は基本的にオートで進行し、プレイヤーは「進む」ボタンを押すことで次の戦闘へ移行する。この「ポチポチ」進行の手軽さが、スピード感のあるゲーム体験を提供する。

#### 2.1.1. 技の閃き（インスピレーション）

戦闘中、キャラクターが特定の行動（通常攻撃、特定の技の使用など）を行った際、確率で新しい技を習得する「閃き」が発生する。

*   **リアルタイム閃き**: 閃きは行動の直前に「！」マークと共に発生し、即座にその新技が発動する。この瞬間の派手なエフェクトとSEが、プレイヤーに最高の**爽快感**を提供する。
*   **閃き率の変動**: 敵の強さ（キャラクターとのレベル差）や、後述する「連携」中に技を使用した際に、閃き率が大幅に上昇する。

#### 2.1.2. 技の連携（チェイン・レゾナンス）

パーティメンバーの攻撃が連続して行われると「連携」が発生する。

*   **オート連携**: 技の属性（斬、打、突、火、水、風、土、光、闇など）が連続することで、自動的に連携が繋がり、ダメージボーナスが発生する。
*   **マニュアル介入（追撃）**: 連携が繋がっている最中に画面をタップ（ポチポチ）することで、「追撃」や「連携昇華」といった追加アクションが発動し、連携をさらに強力な「合体技」へと変化させることができる。
*   **合体技の自動生成**: 技の属性の組み合わせにより、システムが自動的に新しい名称と効果を持つ「合体技」を生成する（例：火属性の斬撃 + 風属性の突進 = 「烈風火炎斬」）。これにより、**組み合わせは無限大**に広がる。

### 2.2. キャラクター成長システム：ソウルリンクと継承

キャラクターが増えること自体が、パーティ全体の能力向上に直結するシステムを導入する。

#### 2.2.1. ソウルリンク・システム

パーティに所属するキャラクターの数に応じて、以下の要素が解放される。

| 要素 | 効果 | キャラクター増加の意義 |
| :--- | :--- | :--- |
| **パッシブスキル枠** | 全員に適用されるパッシブスキル（例：連携率+5%）の装着枠が増加。 | 多くの仲間を集めることでパーティ全体が強化される。 |
| **連携スロット** | 連携時に合体技を生成するための属性スロットが増加。 | 連携のバリエーションと威力が向上する。 |
| **共鳴ボーナス** | 特定のキャラ同士（例：師弟、ライバル）が揃うと、閃き率やステータスが上昇。 | キャラクター収集に物語的な意味と実利的なメリットが生まれる。 |

#### 2.2.2. 魂の記憶（技の継承）

引退や交代でパーティから外れたキャラクターが極めた技は「魂の記憶」としてストックされ、他のキャラクターに継承させることが可能となる。これにより、キャラクターを入れ替えても、その育成が無駄にならない仕組みを提供する。

### 2.3. 組み合わせの無限大：アビリティ・マトリクス

覚えた技をさらにカスタマイズする「ルーン」システムを導入し、**組み合わせの無限大**を実現する。

*   **ルーンの装着**: 技一つ一つに「ルーン」を装着することで、その技の性能を変化させる。
    *   例：範囲拡大ルーン、威力増加ルーン、状態異常付与ルーン。
*   **ビルドの多様性**: キャラクターのジョブ、装備、習得技、そしてルーンの組み合わせにより、プレイヤー独自のビルドを追求できる。

## 3. ゲームサイクル（開始・終了・ループ）

本ゲームは、プレイヤーが継続的に「ポチポチ」と進められる中毒性の高いゲームサイクルを設計する。

### 3.1. ゲームフローの定義：エンドレス・ダンジョン

| フェーズ | プレイヤーの行動 | システムの動作 | 終了条件 |
| :--- | :--- | :--- | :--- |
| **1. 探索** | メイン画面の「進む」ボタンをタップ（ポチポチ）。 | 次のフロアの敵パーティを決定し、戦闘準備画面へ移行。 | 「進む」ボタンのタップ。 |
| **2. 戦闘開始** | 戦闘準備画面で「バトル開始」をタップ、または一定時間で自動開始。 | 高速オートバトル開始。技の閃き、連携、追撃（マニュアル介入）が発生。 | 敵パーティの全滅、または味方パーティの全滅。 |
| **3. 戦闘終了** | 敵パーティ全滅（勝利）。 | 経験値、ゴールド、アイテムを獲得。閃いた技を習得。次のフロアへの「進む」ボタンが再出現。 | プレイヤーが「進む」ボタンをタップ。 |
| **4. 敗北** | 味方パーティ全滅（敗北）。 | フロアの進行度がリセットされ、拠点画面へ戻る。獲得した経験値は保持されるが、アイテムは一部ロストの可能性あり。 | プレイヤーが「リトライ」または「拠点へ戻る」を選択。 |

**ゲームの終わり**: 本ゲームは、キャラクターの育成と無限の組み合わせを追求する**エンドレス・ダンジョン形式**を採用するため、明確な「エンディング」は設定しない。プレイヤーの目的は、より深いフロアへ到達し、より強力な敵から新しい技やルーンを閃き、パーティを強化し続けることとなる。

## 4. 技術仕様と開発環境

### 4.1. 技術仕様

| 要素 | 推奨技術 | 採用理由 |
| :--- | :--- | :--- |
| **フロントエンド** | React + Vite + TailwindCSS | 高速な描画とレスポンシブ対応によるブラウザゲームとしての快適性。 |
| **ゲームエンジン** | PixiJS または Phaser 3 | 2Dスプライト制御、および派手なパーティクルエフェクトの描画に最適。 |
| **状態管理** | Zustand | 軽量で高速なステート更新により、戦闘中のリアルタイムなデータ処理に対応。 |
| **バックエンド/DB** | TiDB (または類似の分散型SQL DB) | 膨大なキャラクター、技、ルーン、そしてそれらの組み合わせデータをスケーラブルに管理するため。 |

### 4.2. 開発環境：Dockerによる環境統一

開発のスピード感と環境の統一性を重視し、Dockerによるコンテナ化を推奨する。これにより、開発者はOSや環境に依存せず、一貫した環境で開発を進めることができる。

| コンテナ名 | 役割 | ベースイメージ | 公開ポート |
| :--- | :--- | :--- | :--- |
| **frontend** | Webクライアントのビルドと提供 | node:20-alpine | 3000 (開発用) |
| **backend** | APIサーバーの実行 | node:20-alpine または python:3.11-slim | 8080 (API用) |
| **database** | TiDBまたはMySQL互換DBの提供 | tidb/tidb:latest または mysql:8.0 | 3306 (DB接続用) |

`docker-compose.yml` を用意することで、`docker compose up` コマンド一つで開発環境全体を起動可能とする。

## 5. UI/UX設計

### 5.1. 爽快感を最大化するUI/UX

| 要素 | 設計方針 | 目的 |
| :--- | :--- | :--- |
| **画面レイアウト** | 片手操作を考慮した縦画面レイアウト。画面下部に「進む」ボタンを配置。 | ポチポチ進行の手軽さを最大化。 |
| **閃き演出** | 画面の一時停止（ヒットストップ）、キャラのカットイン、新技名の特大表示。 | 閃きの瞬間を強調し、達成感と爽快感を演出。 |
| **連携演出** | 連携が続くほどBGMが加速し、画面の揺れ、派手なパーティクルエフェクトが追加。ダメージ数字がインフレ表示。 | 連携の連鎖による高揚感と、ダメージの増加による爽快感を視覚的・聴覚的に訴求。 |
| **バトル時間** | 1バトルは数秒〜数十秒で決着。 | スピード感を重視し、テンポの良いゲームサイクルを実現。 |

---
*著者: Manus AI*
*作成日: 2026年1月26日 (改訂)*
